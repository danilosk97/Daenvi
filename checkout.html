<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout ‚Ä¢ Daenvi</title>
  <link rel="stylesheet" href="assets/css/styles.css"/>
</head>
<body>
  <header class="topbar">
    <div class="container topbar-grid">
      <a class="brand" href="index.html">
        <span class="brand-dot"></span>
        <span class="brand-name">Daenvi</span>
        <span class="brand-tag">Tech Store</span>
      </a>

      <div class="searchbox">
        <input id="searchInput" type="text" placeholder="Buscar na loja..." />
      </div>

      <div class="actions">
        <a class="cart-btn" href="carrinho.html">
          <span>üõí</span>
          <span class="badge" id="cartCount">0</span>
        </a>
      </div>
    </div>
  </header>

  <main class="container section">
    <div class="crumbs">
      <a href="index.html">In√≠cio</a>
      <span>‚Ä∫</span>
      <span>Checkout</span>
    </div>

    <section class="checkout-grid">
      <!-- ESQUERDA: DADOS -->
      <div class="card">
        <h3 class="card-title">Dados do cliente</h3>

        <div class="msg" id="msgCheckout"></div>

        <form class="form" id="checkoutForm">
          <div class="form-row">
            <div class="field">
              <label>Nome completo</label>
              <input id="nome" autocomplete="name" required />
            </div>
            <div class="field">
              <label>WhatsApp</label>
              <input id="whatsapp" placeholder="(81) 9xxxx-xxxx" autocomplete="tel" required />
            </div>
          </div>

          <div class="form-row">
            <div class="field">
              <label>CPF</label>
              <input id="cpf" placeholder="Somente n√∫meros" inputmode="numeric" required />
            </div>
            <div class="field">
              <label>CEP</label>
              <input id="cep" placeholder="Somente n√∫meros" inputmode="numeric" required />
            </div>
          </div>

          <div class="form-row">
            <div class="field">
              <label>Endere√ßo</label>
              <input id="endereco" autocomplete="street-address" required />
            </div>
            <div class="field">
              <label>N√∫mero</label>
              <input id="numero" autocomplete="address-line2" required />
            </div>
          </div>

          <div class="form-row">
            <div class="field">
              <label>Complemento</label>
              <input id="complemento" />
            </div>
            <div class="field">
              <label>Bairro</label>
              <input id="bairro" required />
            </div>
          </div>

          <div class="form-row">
            <div class="field">
              <label>Cidade</label>
              <input id="cidade" required />
            </div>
            <div class="field">
              <label>UF</label>
              <input id="uf" placeholder="PE" maxlength="2" required />
            </div>
          </div>

          <hr class="line"/>

          <h3 class="card-title">Pagamento</h3>

          <div class="field">
            <label>M√©todo</label>
            <select id="paymentMethod" required>
              <option value="Pix">Pix</option>
              <option value="Cart√£o">Cart√£o</option>
              <option value="Boleto">Boleto</option>
            </select>
          </div>

          <!-- BOX PAGAMENTO DIN√ÇMICO -->
          <div class="card" style="padding:14px; background: rgba(255,255,255,.02);">
            <!-- PIX -->
            <div id="payPix" style="display:none;">
              <div class="mini-title">Pix</div>
              <div class="mini-sub">Pague pelo Pix e cole abaixo o <b>c√≥digo/ID do comprovante</b> para liberar o pedido.</div>

              <div class="mini-note" style="margin-top:10px;">
                <div><b>Chave Pix:</b> <span id="pixKeyText"></span></div>
                <div class="hero-cta" style="margin-top:10px;">
                  <button type="button" class="btn ghost" id="btnCopyPix">Copiar chave Pix</button>
                </div>
              </div>

              <div class="field" style="margin-top:10px;">
                <label>C√≥digo/ID do comprovante (TXID/ID)</label>
                <input id="pixProof" placeholder="Ex: E123ABC... / TXID..." />
              </div>

              <div class="hero-cta">
                <button type="button" class="btn primary" id="btnConfirmPix">Confirmar pagamento</button>
              </div>

              <div class="msg" id="msgPix"></div>
            </div>

            <!-- CART√ÉO -->
            <div id="payCard" style="display:none;">
              <div class="mini-title">Cart√£o</div>
              <div class="mini-sub">
                No modo gr√°tis, a confirma√ß√£o autom√°tica n√£o existe.
                Voc√™ pode pedir o link de pagamento e depois colar o <b>c√≥digo do comprovante</b>.
              </div>

              <div class="field" style="margin-top:10px;">
                <label>C√≥digo/ID do comprovante</label>
                <input id="cardProof" placeholder="Ex: MP-123... / comprovante..." />
              </div>

              <div class="hero-cta">
                <button type="button" class="btn primary" id="btnConfirmCard">Confirmar pagamento</button>
              </div>

              <div class="msg" id="msgCard"></div>
            </div>

            <!-- BOLETO -->
            <div id="payBoleto" style="display:none;">
              <div class="mini-title">Boleto</div>
              <div class="mini-sub">
                No modo gr√°tis, voc√™ gera/recebe o boleto por fora e cola o <b>c√≥digo do comprovante</b> aqui para liberar.
              </div>

              <div class="field" style="margin-top:10px;">
                <label>C√≥digo/ID do comprovante</label>
                <input id="boletoProof" placeholder="Ex: pagamento do boleto..." />
              </div>

              <div class="hero-cta">
                <button type="button" class="btn primary" id="btnConfirmBoleto">Confirmar pagamento</button>
              </div>

              <div class="msg" id="msgBoleto"></div>
            </div>
          </div>

          <hr class="line"/>

          <button class="btn primary" id="btnSendOrder" type="submit" disabled>
            Enviar pedido
          </button>

          <div class="mini-note">
            O pedido s√≥ √© enviado ap√≥s o pagamento ser confirmado (modo manual no plano gr√°tis).
          </div>
        </form>
      </div>

      <div class="hero-cta" style="margin-top:12px;">
  <button type="button" class="btn primary" id="btnPayMP">Pagar com Mercado Pago</button>
</div>
<div class="msg" id="msgMP"></div>

      <!-- DIREITA: RESUMO -->
      <div class="card summary">
        <div class="summary-title">Resumo do pedido</div>
        <div id="checkoutItems" class="checkout-items"></div>

        <div class="summary-row">
          <span>Subtotal</span>
          <b id="subtotal">R$ 0,00</b>
        </div>
        <div class="summary-row">
          <span>Entrega</span>
          <b id="frete">R$ 0,00</b>
        </div>
        <div class="summary-row total">
          <span>Total</span>
          <b id="total">R$ 0,00</b>
        </div>

        <div class="mini-note">
          Depois que voc√™ enviar o pedido, voc√™ recebe um c√≥digo para acompanhar.
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer-grid">
      <div>
        <div class="brand small">
          <span class="brand-dot"></span>
          <span class="brand-name">Daenvi</span>
        </div>
        <p class="muted">Checkout com bloqueio de pedido at√© confirma√ß√£o de pagamento.</p>
      </div>
      <div>
        <div class="footer-title">Navega√ß√£o</div>
        <a class="footer-link" href="index.html#produtos">Produtos</a>
        <a class="footer-link" href="carrinho.html">Carrinho</a>
      </div>
      <div>
        <div class="footer-title">Suporte</div>
        <span class="muted">Suporte (fase 1)</span>
      </div>
    </div>
  </footer>

  <script src="assets/js/carrinho.js"></script>
  <script src="assets/js/checkout.js"></script>
</body>
</html>