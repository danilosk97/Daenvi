<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout â€¢ Daenvi</title>
  <link rel="stylesheet" href="assets/css/styles.css"/>
</head>
<body>
  <header class="topbar">
    <div class="container topbar-grid">
      <a class="brand" href="index.html">
        <span class="brand-dot"></span>
        <span class="brand-name">Daenvi</span>
        <span class="brand-tag">Tech Store</span>
      </a>

      <div class="actions">
        <a class="cart-btn" href="carrinho.html">
          <span>ðŸ›’</span>
          <span class="badge" id="cartCount">0</span>
        </a>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="section">
      <div class="section-header">
        <h2>Finalizar pedido</h2>
        <p>Preencha seus dados para entrega e confirme o pedido.</p>
      </div>

      <div class="checkout-grid">
        <div class="card">
          <h3 class="card-title">Seus dados</h3>

          <form id="checkoutForm" class="form">
            <div class="form-row">
              <div class="field">
                <label>Nome completo</label>
                <input type="text" id="nome" placeholder="Ex: JoÃ£o da Silva" required />
              </div>
              <div class="field">
                <label>CPF</label>
                <input type="text" id="cpf" placeholder="000.000.000-00" required />
              </div>
            </div>

            <div class="form-row">
              <div class="field">
                <label>WhatsApp</label>
                <input type="text" id="whats" placeholder="(DDD) 9xxxx-xxxx" required />
              </div>
              <div class="field">
                <label>Email (opcional)</label>
                <input type="email" id="email" placeholder="seuemail@exemplo.com" />
              </div>
            </div>

            <hr class="line"/>

            <h3 class="card-title">EndereÃ§o de entrega</h3>

            <div class="form-row">
              <div class="field">
                <label>CEP</label>
                <input type="text" id="cep" placeholder="00000-000" required />
              </div>
              <div class="field">
                <label>NÃºmero</label>
                <input type="text" id="numero" placeholder="Ex: 120" required />
              </div>
            </div>

            <div class="form-row">
              <div class="field">
                <label>Rua</label>
                <input type="text" id="rua" placeholder="Ex: Rua das Flores" required />
              </div>
              <div class="field">
                <label>Bairro</label>
                <input type="text" id="bairro" placeholder="Ex: Centro" required />
              </div>
            </div>

            <div class="form-row">
              <div class="field">
                <label>Cidade</label>
                <input type="text" id="cidade" placeholder="Ex: Recife" required />
              </div>
              <div class="field">
                <label>Estado (UF)</label>
                <input type="text" id="estado" placeholder="PE" maxlength="2" required />
              </div>
            </div>

            <div class="form-row">
              <div class="field">
                <label>Complemento (opcional)</label>
                <input type="text" id="complemento" placeholder="Apartamento / bloco / referÃªncia" />
              </div>
              <div class="field">
                <label>Forma de pagamento</label>
                <select id="pagamento" required>
                  <option value="PIX">PIX</option>
                  <option value="CARTAO">CartÃ£o (fase 2)</option>
                  <option value="DINHEIRO">Dinheiro (se disponÃ­vel)</option>
                </select>
              </div>
            </div>

            <div id="msg" class="msg"></div>

            <button class="btn primary" type="submit">
              Confirmar pedido
            </button>

            <p class="muted small">
              * Nesta fase, o pedido Ã© enviado para o sistema (Netlify Forms) e confirmado via WhatsApp.
            </p>
          </form>
        </div>

        <div class="card summary">
          <div class="summary-title">Resumo do pedido</div>
          <div id="checkoutItems" class="checkout-items"></div>

          <div class="summary-row total">
            <span>Total</span>
            <strong id="checkoutTotal">R$ 0,00</strong>
          </div>

          <div class="mini-note">
            <strong>Entrega:</strong> definida conforme fornecedor e CEP.
          </div>
        </div>
      </div>
    </section>

    <!-- âœ… Netlify Forms (captura pedidos SEM backend) -->
    <form name="daenvi-orders" method="POST" data-netlify="true" netlify-honeypot="bot-field" hidden>
      <input type="hidden" name="form-name" value="daenvi-orders" />
      <input type="text" name="bot-field" />

      <input type="text" name="pedido_id" />
      <input type="text" name="status" />
      <input type="text" name="criado_em" />

      <input type="text" name="nome" />
      <input type="text" name="cpf" />
      <input type="text" name="whats" />
      <input type="text" name="email" />

      <input type="text" name="cep" />
      <input type="text" name="rua" />
      <input type="text" name="numero" />
      <input type="text" name="bairro" />
      <input type="text" name="cidade" />
      <input type="text" name="estado" />
      <input type="text" name="complemento" />

      <input type="text" name="pagamento" />
      <input type="text" name="total" />
      <textarea name="itens_json"></textarea>
      <textarea name="mensagem_whats"></textarea>
    </form>
  </main>

  <script src="assets/js/config.js"></script>
<script src="assets/js/checkout.js"></script>
</body>
</html>
